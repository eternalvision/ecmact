{"version":3,"file":"index.js","sources":["../../src/utils/setEventListeners.ts","../../src/utils/generateStyle.ts","../../src/utils/generateAttributes.ts","../../src/utils/render.ts","../../src/utils/mount.ts","../../src/component.ts","../../src/em.ts"],"sourcesContent":["export const setEventListeners = ({ props, shadowRoot }) => {\n  Object.entries(props).forEach(([key, value]) => {\n    if (key.startsWith('on') && typeof value === 'function') {\n      const event = key.slice(2).toLowerCase();\n      shadowRoot.querySelector(props.tag || 'div')?.addEventListener(event, value);\n    }\n  });\n};\n","export const generateStyle = ({ style, tag }) => {\n  if (Object.keys(style).length === 0) return '';\n\n  const css = Object.entries(style)\n    .map(([key, value]) => `${key.replace(/([A-Z])/g, '-$1').toLowerCase()}: ${value};`)\n    .join(' ');\n\n  return `<style>${tag} { ${css} }</style>`;\n};\n","export const generateAttributes = ({ props }) =>\n  Object.entries(props)\n    .filter(\n      ([key]) => !['content', 'tag', 'style', 'children'].includes(key) && !key.startsWith('on'),\n    )\n    .map(([key, value]) => `${key}=\"${value}\"`)\n    .join(' ');\n","import { generateAttributes } from './generateAttributes';\n\nexport const render = ({ props, shadowRoot, generateStyle }) => {\n  const { content = '', tag = 'div', children = [] } = props;\n\n  shadowRoot!.innerHTML = `\n      ${generateStyle()}\n      <${tag} ${generateAttributes({ props })}>\n        ${content.length > 0 ? content : ''}\n        ${children.length > 0 ? `<slot></slot>` : ''}\n      </${tag}>\n    `;\n\n  const slot = shadowRoot!.querySelector('slot') as HTMLSlotElement;\n  children.forEach((child: any) => slot.appendChild(child));\n};\n","export const mount = (elementId: string, ...nodes: Node[]) => {\n  const container = document.querySelector(elementId);\n  if (container) container.append(...nodes);\n};\n","import type { ComponentProps } from '@types';\nimport { setEventListeners, generateStyle, render } from '@utils';\n\nexport class component extends HTMLElement {\n  private _props: ComponentProps;\n\n  constructor(props: ComponentProps = {}) {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this._props = props;\n  }\n\n  #setEventListeners() {\n    return setEventListeners({\n      props: this.props,\n      shadowRoot: this.shadowRoot,\n    });\n  }\n\n  #generateStyle() {\n    const { style = {}, tag = 'div' } = this.props;\n    return generateStyle({ style, tag });\n  }\n\n  #render() {\n    return render({\n      props: this._props,\n      shadowRoot: this.shadowRoot,\n      generateStyle: () => this.#generateStyle(),\n    });\n  }\n\n  connectedCallback() {\n    this.#render();\n    this.#setEventListeners();\n  }\n\n  setState(newProps: Partial<ComponentProps>) {\n    this.props = {\n      ...this._props,\n      ...newProps,\n    };\n  }\n\n  get props() {\n    return this._props;\n  }\n\n  set props(newProps: ComponentProps) {\n    this._props = newProps;\n    this.#render();\n    this.#setEventListeners();\n  }\n}\n","import { component } from './component';\nimport type { ComponentProps } from '@types';\n\ninterface ComponentRegistry {\n  [key: string]: (props: ComponentProps) => component;\n}\n\nconst em: ComponentRegistry = new Proxy({} as ComponentRegistry, {\n  get(_, prop: string) {\n    const tagName = `em-${prop.toLowerCase()}`;\n\n    if (!customElements.get(tagName)) {\n      customElements.define(\n        tagName,\n        class extends component {\n          constructor(props: ComponentProps) {\n            super(props);\n          }\n        },\n      );\n    }\n\n    return (props: ComponentProps): component => {\n      const element = document.createElement(tagName) as component;\n      element.props = props;\n      return element;\n    };\n  },\n});\n\nexport { em };\n"],"names":["setEventListeners","props","shadowRoot","key","value","event","generateStyle","style","tag","css","generateAttributes","render","content","children","slot","child","mount","elementId","nodes","container","component","#setEventListeners","#generateStyle","#render","newProps","em","_","prop","tagName","element"],"mappings":"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"}