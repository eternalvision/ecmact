{"version":3,"file":"index.js","sources":["../../src/utils/setEventListeners.ts","../../src/utils/generateStyle.ts","../../src/utils/generateAttributes.ts","../../src/utils/render.ts","../../src/utils/mount.ts","../../src/component.ts","../../src/em.ts"],"sourcesContent":["export const setEventListeners = ({ props, shadowRoot }) => {\n  Object.entries(props).forEach(([key, value]) => {\n    if (key.startsWith('on') && typeof value === 'function') {\n      const event = key.slice(2).toLowerCase();\n      shadowRoot.querySelector(props.tag || 'div')?.addEventListener(event, value);\n    }\n  });\n};\n","export const generateStyle = ({ style, tag }) => {\n  if (Object.keys(style).length === 0) return '';\n\n  const css = Object.entries(style)\n    .map(([key, value]) => `${key.replace(/([A-Z])/g, '-$1').toLowerCase()}: ${value};`)\n    .join(' ');\n\n  return `<style>${tag} { ${css} }</style>`;\n};\n","export const generateAttributes = ({ props }) =>\n  Object.entries(props)\n    .filter(\n      ([key]) => !['content', 'tag', 'style', 'children'].includes(key) && !key.startsWith('on'),\n    )\n    .map(([key, value]) => `${key}=\"${value}\"`)\n    .join(' ');\n","import { generateAttributes } from './generateAttributes';\n\nexport const render = ({ props, shadowRoot, generateStyle }) => {\n  const { content = '', tag = 'div', children = [] } = props;\n\n  shadowRoot!.innerHTML = `\n      ${generateStyle()}\n      <${tag} ${generateAttributes({ props })}>\n        ${content.length > 0 ? content : ''}\n        ${children.length > 0 ? `<slot></slot>` : ''}\n      </${tag}>\n    `;\n\n  const slot = shadowRoot!.querySelector('slot') as HTMLSlotElement;\n  children.forEach((child: any) => slot.appendChild(child));\n};\n","export const mount = (elementId: string, ...nodes: Node[]) => {\n  const container = document.querySelector(elementId);\n  if (container) container.append(...nodes);\n};\n","import type { ComponentProps } from '@types';\nimport { setEventListeners, generateStyle, render } from '@utils';\n\nexport class component extends HTMLElement {\n  private _props: ComponentProps;\n\n  constructor(props: ComponentProps = {}) {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this._props = props;\n  }\n\n  #setEventListeners() {\n    return setEventListeners({\n      props: this.props,\n      shadowRoot: this.shadowRoot,\n    });\n  }\n\n  #generateStyle() {\n    const { style = {}, tag = 'div' } = this.props;\n    return generateStyle({ style, tag });\n  }\n\n  #render() {\n    return render({\n      props: this._props,\n      shadowRoot: this.shadowRoot,\n      generateStyle: () => this.#generateStyle(),\n    });\n  }\n\n  connectedCallback() {\n    this.#render();\n    this.#setEventListeners();\n  }\n\n  setState(newProps: Partial<ComponentProps>) {\n    this.props = {\n      ...this._props,\n      ...newProps,\n    };\n  }\n\n  get props() {\n    return this._props;\n  }\n\n  set props(newProps: ComponentProps) {\n    this._props = newProps;\n    this.#render();\n    this.#setEventListeners();\n  }\n}\n","import { component } from './component';\nimport type { ComponentProps } from '@types';\n\ninterface ComponentRegistry {\n  [key: string]: (props: ComponentProps) => component;\n}\n\nconst em: ComponentRegistry = new Proxy({} as ComponentRegistry, {\n  get(_, prop: string) {\n    const tagName = `em-${prop.toLowerCase()}`;\n\n    if (!customElements.get(tagName)) {\n      customElements.define(\n        tagName,\n        class extends component {\n          constructor(props: ComponentProps) {\n            super(props);\n          }\n        },\n      );\n    }\n\n    return (props: ComponentProps): component => {\n      const element = document.createElement(tagName) as component;\n      element.props = props;\n      return element;\n    };\n  },\n});\n\nexport { em };\n"],"names":["setEventListeners","props","shadowRoot","key","value","event","generateStyle","style","tag","css","generateAttributes","render","content","children","slot","child","mount","elementId","nodes","container","component","#setEventListeners","#generateStyle","#render","newProps","em","_","prop","tagName","element"],"mappings":"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"}